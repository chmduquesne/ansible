# Ansible Configuration
# Documentation: https://docs.ansible.com/ansible/latest/reference_appendices/config.html

[defaults]

# Inventory and vault
inventory           = hosts.ini
vault_password_file = .vault_pass

# Roles and library paths
roles_path          = ~/.ansible/roles:../ansible-roles:roles:/etc/ansible/roles
library             = library

# Python interpreter (auto-detect without warnings)
interpreter_python  = auto_silent

# Performance optimizations
forks               = 5
pipelining          = True

# Security
host_key_checking   = False

# Output configuration
stdout_callback       = ansible.builtin.default
result_format         = yaml
pretty_results        = True
callbacks_enabled     = timer
display_skipped_hosts = False

# Fact caching (15-minute cache for faster repeated runs)
fact_caching            = jsonfile
fact_caching_connection = ~/.ansible/fact_cache
fact_caching_timeout    = 86400

# Don't create .retry files on failure
retry_files_enabled = False

# Always show diffs
[diff]
always = yes

# Privilege escalation (use become instead of sudo)
[privilege_escalation]
become = True

# SSH connection settings
[ssh_connection]
# ControlPersist improves performance for multiple tasks
ssh_args = -o ControlMaster=auto -o ControlPersist=60s
